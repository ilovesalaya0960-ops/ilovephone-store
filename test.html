<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Connection</title>
</head>
<body>
    <h1>การทดสอบระบบ</h1>
    <div id="status"></div>

    <script>
        const statusDiv = document.getElementById('status');

        // Test API Connection
        fetch('http://localhost:5001/api/health')
            .then(response => response.json())
            .then(data => {
                statusDiv.innerHTML += '<p style="color: green;">✅ API Server: เชื่อมต่อสำเร็จ</p>';
                statusDiv.innerHTML += '<pre>' + JSON.stringify(data, null, 2) + '</pre>';
            })
            .catch(error => {
                statusDiv.innerHTML += '<p style="color: red;">❌ API Server: เชื่อมต่อไม่สำเร็จ - ' + error.message + '</p>';
            });

        // Test Config Loading
        setTimeout(() => {
            statusDiv.innerHTML += '<p>Loading config.js...</p>';
            const script = document.createElement('script');
            script.src = 'config.js';
            script.onload = () => {
                statusDiv.innerHTML += '<p style="color: green;">✅ config.js โหลดสำเร็จ</p>';
                statusDiv.innerHTML += '<p>API_BASE_URL: ' + (window.API_BASE_URL || 'ไม่พบ') + '</p>';
            };
            script.onerror = () => {
                statusDiv.innerHTML += '<p style="color: red;">❌ config.js โหลดไม่สำเร็จ</p>';
            };
            document.head.appendChild(script);
        }, 1000);
    </script>
</body>
</html>
