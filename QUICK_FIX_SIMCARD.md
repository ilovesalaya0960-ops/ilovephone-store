# Quick Fix: р╣Бр╕Бр╣Йр╕Ыр╕▒р╕Нр╕лр╕▓р╕Др╕нр╕ер╕▒р╕бр╕Щр╣М "р╕вр╕нр╕Фр╣Ар╕Хр╕┤р╕б" р╣Др╕бр╣Ир╣Бр╕кр╕Фр╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕е

## ЁЯРЫ р╕Ыр╕▒р╕Нр╕лр╕▓
р╕Ир╕▓р╕Бр╕гр╕╣р╕Ы: р╕Др╕нр╕ер╕▒р╕бр╕Щр╣М "р╕вр╕нр╕Фр╣Ар╕Хр╕┤р╕б" р╣Бр╕кр╕Фр╕З **"-"** р╣Бр╕Чр╕Щр╕Чр╕╡р╣Ир╕Ир╕░р╣Ар╕Ыр╣Зр╕Щ **"р╕┐100"**

## ЁЯТб р╕кр╕▓р╣Ар╕лр╕Хр╕╕
Column `package_sale` р╕вр╕▒р╕Зр╣Др╕бр╣Ир╕бр╕╡р╣Гр╕Щ database р╕лр╕гр╕╖р╕нр╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Др╕бр╣Ир╕Цр╕╣р╕Бр╕Ър╕▒р╕Щр╕Чр╕╢р╕Б

---

## тЪб р╕зр╕┤р╕Шр╕╡р╣Бр╕Бр╣Йр╣Др╕Вр╕Фр╣Ир╕зр╕Щ (3 р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щ)

### р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Чр╕╡р╣И 1: р╕гр╕▒р╕Щ SQL Script
```bash
mysql -u root -p ilovephone_db < /Users/chakkapong/Sites/ilovephone-store/quick-fix-package-sale.sql
```

**р╕лр╕гр╕╖р╕н** р╕гр╕▒р╕Щр╣Бр╕Ър╕Ъ interactive:
```bash
mysql -u root -p ilovephone_db
```

р╣Бр╕ер╣Йр╕зр╕гр╕▒р╕Щр╕Др╕│р╕кр╕▒р╣Ир╕Зр╕Щр╕╡р╣Й:
```sql
-- р╣Ар╕Юр╕┤р╣Ир╕б column package_sale
ALTER TABLE simcards 
ADD COLUMN package_sale DECIMAL(10,2) NULL 
COMMENT 'р╕вр╕нр╕Фр╣Ар╕Хр╕┤р╕бр╣Ар╕Зр╕┤р╕Щ/р╕нр╕┤р╕Щр╣Ар╕Хр╕нр╕гр╣Мр╣Ар╕Щр╣Зр╕Х' 
AFTER sale_price;

-- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓р╣Ар╕Юр╕┤р╣Ир╕бр╕кр╕│р╣Ар╕гр╣Зр╕И
DESC simcards;
```

**р╕Ьр╕ер╕ер╕▒р╕Юр╕Шр╣Мр╕Чр╕╡р╣Ир╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕гр╣Ар╕лр╣Зр╕Щ:**
```
Field           Type            Null    Key     Default    Extra
...
sale_price      decimal(10,2)   NO              NULL
package_sale    decimal(10,2)   YES             NULL       тЖР р╕Хр╣Йр╕нр╕Зр╕бр╕╡р╕Ър╕гр╕гр╕Чр╕▒р╕Фр╕Щр╕╡р╣Й
...
```

---

### р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Чр╕╡р╣И 2: Restart Server
```bash
cd /Users/chakkapong/Sites/ilovephone-store
./restart-servers.sh
```

р╕лр╕гр╕╖р╕н:
```bash
cd server
npm restart
```

---

### р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Чр╕╡р╣И 3: Hard Refresh Browser
- **Mac**: р╕Бр╕Ф `Cmd + Shift + R`
- **Windows**: р╕Бр╕Ф `Ctrl + Shift + F5`

---

## ЁЯзк р╕Чр╕Фр╕кр╕нр╕Ър╕нр╕╡р╕Бр╕Др╕гр╕▒р╣Йр╕З

### 1. р╕Вр╕▓р╕вр╕Лр╕┤р╕бр╣Гр╕лр╕бр╣И
1. р╣Ар╕ер╕╖р╕нр╕Бр╕Лр╕┤р╕б DTAC 0989934742
2. р╕Бр╕▓р╕гр╕Ир╕▒р╕Фр╕Бр╕▓р╕г тЖТ **р╕Вр╕▓р╕вр╣Бр╕ер╣Йр╕з** тЖТ **р╕Хр╕Бр╕ер╕З**
3. р╕Бр╕гр╕нр╕Б:
   - р╕Ыр╕гр╕░р╣Ар╕ар╕Ч: **р╣Ар╕Хр╕┤р╕бр╣Ар╕Зр╕┤р╕Щ**
   - р╕вр╕нр╕Фр╣Ар╕Хр╕┤р╕б: **100**
   - р╕зр╕▒р╕Щр╕Чр╕╡р╣Ир╕Вр╕▓р╕в: **р╕зр╕▒р╕Щр╕Щр╕╡р╣Й**
4. р╕Бр╕Ф **р╕нр╕▒р╕Ыр╕Лр╕┤р╕бр╕Бр╕▓р╕гр╣Мр╕Вр╕▓р╕в**

### 2. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Хр╕▓р╕гр╕▓р╕З "р╕Вр╕▓р╕вр╣Бр╕ер╣Йр╕з"
р╕Др╕зр╕гр╣Ар╕лр╣Зр╕Щ:

| р╕Ьр╕╣р╣Йр╣Гр╕лр╣Йр╕Ър╕гр╕┤р╕Бр╕▓р╕г | р╣Ар╕Ър╕нр╕гр╣Мр╣Вр╕Чр╕г | р╕гр╕▓р╕вр╕Бр╕▓р╕г | **р╕вр╕нр╕Фр╣Ар╕Хр╕┤р╕б** | р╕гр╕▓р╕Др╕▓р╕Чр╕╕р╕Щ | р╕гр╕▓р╕Др╕▓р╕Вр╕▓р╕в |
|---------|---------|--------|----------|---------|---------|
| DTAC | 0989934742 | р╣Ар╕Хр╕┤р╕бр╣Ар╕Зр╕┤р╕Щ (р╕┐100) | **р╕┐100** тЬУ | р╕┐35.00 | р╕┐50.00 |

---

## ЁЯФН р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Гр╕Щ Database

```sql
-- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Лр╕┤р╕б DTAC 0989934742
SELECT 
    provider,
    phone_number,
    package,
    package_sale,     -- р╕Хр╣Йр╕нр╕Зр╕бр╕╡р╕Др╣Ир╕▓ 100
    status
FROM simcards 
WHERE phone_number LIKE '%0989934742%';
```

**р╕Ьр╕ер╕ер╕▒р╕Юр╕Шр╣Мр╕Чр╕╡р╣Ир╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕г:**
```
+----------+------------+----------+--------------+------+
| provider | phone      | package  | package_sale | stat |
+----------+------------+----------+--------------+------+
| DTAC     | 0989934742 | р╣Ар╕Хр╕┤р╕бр╣Ар╕Зр╕┤р╕Щ |       100.00 | sold |
+----------+------------+----------+--------------+------+
                                    тЖС р╕Хр╣Йр╕нр╕Зр╕бр╕╡р╕Др╣Ир╕▓ 100
```

---

## ЁЯУК р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Console Log

р╣Ар╕Ыр╕┤р╕Ф Browser Console (`F12`) р╣Бр╕ер╣Йр╕зр╕Фр╕╣р╕зр╣Ир╕▓р╕бр╕╡ log р╕Щр╕╡р╣Й:

```javascript
[saveSellSimcard] Saving simcard with complete data: {
  id: "SIM-xxx",
  package: "р╣Ар╕Хр╕┤р╕бр╣Ар╕Зр╕┤р╕Щ",      // тЖР р╕Ир╕▓р╕Бр╕Ыр╕гр╕░р╣Ар╕ар╕Ч
  package_sale: 100,         // тЖР р╕Ир╕▓р╕Бр╕вр╕нр╕Фр╣Ар╕Хр╕┤р╕б тЬУ
  status: "sold"
}

[updateSimcardDashboardCards] Summary: {
  soldSimcards: [
    {
      package_sale: 100      // тЖР р╕Хр╣Йр╕нр╕Зр╕бр╕╡р╕Др╣Ир╕▓ 100 тЬУ
    }
  ]
}
```

---

## тЪая╕П р╕Цр╣Йр╕▓р╕вр╕▒р╕Зр╣Др╕бр╣Ир╣Бр╕кр╕Фр╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕е

### р╕Ыр╕▒р╕Нр╕лр╕▓р╕Чр╕╡р╣Ир╕нр╕▓р╕Ир╕Юр╕Ъ:

#### 1. Column р╕вр╕▒р╕Зр╣Др╕бр╣Ир╕бр╕╡
```sql
-- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ
DESC simcards;

-- р╕Цр╣Йр╕▓р╣Др╕бр╣Ир╣Ар╕лр╣Зр╕Щ package_sale р╣Гр╕лр╣Йр╕гр╕▒р╕Щ
ALTER TABLE simcards 
ADD COLUMN package_sale DECIMAL(10,2) NULL 
AFTER sale_price;
```

#### 2. р╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Ар╕Бр╣Ир╕▓р╣Др╕бр╣Ир╕бр╕╡ package_sale
р╕Лр╕┤р╕бр╕Чр╕╡р╣Ир╕Вр╕▓р╕вр╣Др╕Ыр╕Бр╣Ир╕нр╕Щр╕лр╕Щр╣Йр╕▓р╕Щр╕╡р╣Йр╕Ир╕░р╣Др╕бр╣Ир╕бр╕╡ `package_sale` р╣Гр╕лр╣Йр╕Вр╕▓р╕вр╕Лр╕┤р╕бр╣Гр╕лр╕бр╣Ир╕Чр╕Фр╕кр╕нр╕Ъ

#### 3. Server р╕вр╕▒р╕Зр╣Др╕бр╣И Restart
```bash
./restart-servers.sh
```

#### 4. Browser Cache
Hard refresh: `Cmd + Shift + R`

---

## ЁЯУЛ р╕Др╕│р╕кр╕▒р╣Ир╕Зр╕Фр╣Ир╕зр╕Щр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф

```bash
# 1. р╣Ар╕Юр╕┤р╣Ир╕б column
mysql -u root -p ilovephone_db -e "ALTER TABLE simcards ADD COLUMN IF NOT EXISTS package_sale DECIMAL(10,2) NULL COMMENT 'р╕вр╕нр╕Фр╣Ар╕Хр╕┤р╕б' AFTER sale_price;"

# 2. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ
mysql -u root -p ilovephone_db -e "DESC simcards;"

# 3. Restart server
cd /Users/chakkapong/Sites/ilovephone-store && ./restart-servers.sh
```

р╣Бр╕ер╣Йр╕з **Hard Refresh** browser: `Cmd + Shift + R`

---

## тЬЕ Checklist

- [ ] р╕гр╕▒р╕Щ SQL р╣Ар╕Юр╕┤р╣Ир╕б column `package_sale`
- [ ] р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓р╕бр╕╡ column р╣Бр╕ер╣Йр╕з (DESC simcards)
- [ ] Restart server
- [ ] Hard refresh browser
- [ ] р╕Чр╕Фр╕кр╕нр╕Ър╕Вр╕▓р╕вр╕Лр╕┤р╕бр╣Гр╕лр╕бр╣И
- [ ] р╣Ар╕лр╣Зр╕Щ "р╕┐100" р╣Гр╕Щр╕Др╕нр╕ер╕▒р╕бр╕Щр╣М "р╕вр╕нр╕Фр╣Ар╕Хр╕┤р╕б"

---

**р╕лр╕бр╕▓р╕вр╣Ар╕лр╕Хр╕╕**: р╕Цр╣Йр╕▓р╕вр╕▒р╕Зр╕бр╕╡р╕Ыр╕▒р╕Нр╕лр╕▓ р╣Гр╕лр╣Йр╕кр╣Ир╕З screenshot console log (F12) р╣Бр╕ер╕░р╕Ьр╕ер╕ер╕▒р╕Юр╕Шр╣Мр╕Ир╕▓р╕Б `DESC simcards;` р╕бр╕▓р╕Фр╕╣р╕Др╕гр╕▒р╕Ъ

