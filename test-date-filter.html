<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Date Filter</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            max-width: 600px;
            margin: 0 auto;
        }
        .filter-box {
            display: flex;
            gap: 12px;
            margin: 20px 0;
        }
        select {
            padding: 10px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            min-width: 140px;
        }
        .result {
            margin-top: 20px;
            padding: 15px;
            background: #f0f0f0;
            border-radius: 8px;
        }
    </style>
</head>
<body>
    <h1>üß™ ‡∏ó‡∏î‡∏™‡∏≠‡∏ö Date Filter</h1>

    <div class="filter-box">
        <select id="filterMonth" onchange="showSelection()">
            <option value="">‡∏ó‡∏∏‡∏Å‡πÄ‡∏î‡∏∑‡∏≠‡∏ô</option>
        </select>
        <select id="filterYear" onchange="showSelection()">
            <option value="">‡∏ó‡∏∏‡∏Å‡∏õ‡∏µ</option>
        </select>
    </div>

    <div class="result">
        <strong>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å:</strong> <span id="result">-</span>
    </div>

    <script>
        console.log('üöÄ Starting test...');

        function initializeDateFilter() {
            const monthSelect = document.getElementById('filterMonth');
            const yearSelect = document.getElementById('filterYear');

            console.log('Month select:', monthSelect);
            console.log('Year select:', yearSelect);

            if (!monthSelect || !yearSelect) {
                console.error('‚ùå Elements not found!');
                return;
            }

            // Clear existing options except first
            while (monthSelect.options.length > 1) {
                monthSelect.remove(1);
            }
            while (yearSelect.options.length > 1) {
                yearSelect.remove(1);
            }

            // Populate months
            const thaiMonths = ['‡∏°.‡∏Ñ.', '‡∏Å.‡∏û.', '‡∏°‡∏µ.‡∏Ñ.', '‡πÄ‡∏°.‡∏¢.', '‡∏û.‡∏Ñ.', '‡∏°‡∏¥.‡∏¢.',
                               '‡∏Å.‡∏Ñ.', '‡∏™.‡∏Ñ.', '‡∏Å.‡∏¢.', '‡∏ï.‡∏Ñ.', '‡∏û.‡∏¢.', '‡∏ò.‡∏Ñ.'];

            thaiMonths.forEach((month, index) => {
                const option = document.createElement('option');
                option.value = index + 1;
                option.textContent = month;
                monthSelect.appendChild(option);
            });

            console.log('‚úÖ Added', thaiMonths.length, 'months');
            console.log('Month options count:', monthSelect.options.length);

            // Populate years
            const currentYear = new Date().getFullYear();
            for (let year = currentYear + 543 + 1; year >= currentYear + 543 - 3; year--) {
                const option = document.createElement('option');
                option.value = year - 543;
                option.textContent = year;
                yearSelect.appendChild(option);
            }

            console.log('‚úÖ Added years');
            console.log('Year options count:', yearSelect.options.length);
        }

        function showSelection() {
            const month = document.getElementById('filterMonth').value;
            const year = document.getElementById('filterYear').value;
            const result = document.getElementById('result');

            result.textContent = `‡πÄ‡∏î‡∏∑‡∏≠‡∏ô: ${month || '‡∏ó‡∏∏‡∏Å‡πÄ‡∏î‡∏∑‡∏≠‡∏ô'}, ‡∏õ‡∏µ: ${year || '‡∏ó‡∏∏‡∏Å‡∏õ‡∏µ'}`;
            console.log('Selected - Month:', month, 'Year:', year);
        }

        // Initialize on load
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üìÑ DOM loaded');
            initializeDateFilter();
        });
    </script>
</body>
</html>
